<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  
    
      
    

    
  

  

  
    
      
    

    
  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="算法,动态规划," />








  <link rel="shortcut icon" type="image/x-icon" href="/images/homepage/favicon6.ico?v=5.1.0" />






<meta name="description" content="这篇博文主要对经典智力算法题The Egg-Drop Numbers进行分析，并给出相应解决方法。
TopicSuppose that we wish to know which windows in a 36-story building are safe to drop eggs  from, and which will cause the eggs to break on landing.">
<meta property="og:type" content="article">
<meta property="og:title" content="The Egg-Drop Numbers">
<meta property="og:url" content="http://yinzhehao.top/2016/12/11/The Egg-Drop Numbers/index.html">
<meta property="og:site_name" content="Yinzhehao blog">
<meta property="og:description" content="这篇博文主要对经典智力算法题The Egg-Drop Numbers进行分析，并给出相应解决方法。
TopicSuppose that we wish to know which windows in a 36-story building are safe to drop eggs  from, and which will cause the eggs to break on landing.">
<meta property="og:image" content="http://oda53d5ps.bkt.clouddn.com/%E6%8D%95%E8%8E%B7.PNG">
<meta property="og:image" content="http://oda53d5ps.bkt.clouddn.com/%E7%BB%98%E5%9B%BE1.png">
<meta property="og:updated_time" content="2017-03-27T15:13:13.838Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="The Egg-Drop Numbers">
<meta name="twitter:description" content="这篇博文主要对经典智力算法题The Egg-Drop Numbers进行分析，并给出相应解决方法。
TopicSuppose that we wish to know which windows in a 36-story building are safe to drop eggs  from, and which will cause the eggs to break on landing.">
<meta name="twitter:image" content="http://oda53d5ps.bkt.clouddn.com/%E6%8D%95%E8%8E%B7.PNG">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yinzhehao.top/2016/12/11/The Egg-Drop Numbers/"/>





  <title> The Egg-Drop Numbers | Yinzhehao blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Yinzhehao blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
    
      <p class="site-subtitle">Try my best</p>
    
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://yinzhehao.top/2016/12/11/The Egg-Drop Numbers/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="Yin Zhehao">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/homepage/yymhk.png">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Yinzhehao blog">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="Yinzhehao blog" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                The Egg-Drop Numbers
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-12-11T17:51:14+08:00">
                2016-12-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i>
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>
            </span>
          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>这篇博文主要对经典智力算法题The Egg-Drop Numbers进行分析，并给出相应解决方法。</p>
<h2 id="Topic"><a href="#Topic" class="headerlink" title="Topic"></a>Topic</h2><p>Suppose that we wish to know which windows in a 36-story building are safe to drop eggs  from, and which will cause the eggs to break on landing. We make a few assumptions:</p>
<ul>
<li>An egg that survives a fall can be used again.</li>
<li>A broken egg must be discarded.</li>
<li>The effect of a fall is the same for all eggs.</li>
<li>If an egg breaks when dropped, then it would break if dropped from a higher window.</li>
<li>If an egg survives a fall then it would survive a shorter fall.</li>
<li>It is not ruled out that the first-floor windows break eggs, nor is it ruled out that the 36th-floor windows do not cause an egg to break.</li>
</ul>
<h2 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h2><ul>
<li>If only one egg is available and we wish to be sure of obtaining the right result, the experiment can be carried out in only one way. Drop the egg from the first-floor window; if it survives, drop it from the second floor window. Continue upward until it breaks. In the worst case, this method may require 36 droppings. So, when we have 2 eggs and one eggs has been broken, then we should use one egg strategy to continue the experiment.</li>
</ul>
<h2 id="Solution-1-数学猜想反推法"><a href="#Solution-1-数学猜想反推法" class="headerlink" title="Solution 1 数学猜想反推法"></a>Solution 1 数学猜想反推法</h2><p>假设题目所要求的策略存在，该策略可以保证在最坏情况下至多需要扔K次鸡蛋就可以找出临界楼层。<br><strong>此时可以将问题转化为：如果只允许扔K次鸡蛋，能确定的最高的楼层是多少。 </strong></p>
<p>现在思考， 第一次鸡蛋应该从哪个楼层扔下?</p>
<p>因为此时我们有两个鸡蛋，为了在有限次数内检查尽可能高的楼层。第一次扔的时候，我们会希望能尽可能高一些 如果鸡蛋没碎，我们就能排除掉越多的楼层。 但是很显然，第一次扔的楼层不能过高，因为万一鸡蛋碎了，第二个鸡蛋就只能从第一层开始尝试起。</p>
<p>那么第一次扔的楼层最高可以选第几层呢？</p>
<p><strong>答案是第K层。</strong> 考虑最坏的情况，当我们从第K层扔下的时候，最坏的情况有可能是临界层为(K-1)层, 此时就需要尝试K次（用剩下的一个鸡蛋从第1层逐层试验到第(k-1)层），才能找到这个临界层。如果第一次尝试的楼层比K大， 显然会导致最大尝试次数超过K，不符合我们的假设。因此，我们有推论1：</p>
<p><strong>推论1</strong><br>若最大尝试次数为K次时，最优策略第一次必然只能从第K层扔下。</p>
<p>在推论1的基础上，求解尝试K次能检查的最多楼层数。</p>
<p>由于第一次从K层扔下时，我们已经用掉了一次尝试机会，此时只能再尝试K-1次。这样，我们可以第二次尝试的楼层数向上增加K-1层， 即为 K + (K-1)=2K-1。如果再高，例如第二次我们从2x层扔下，我们在最坏情况下（临界楼层为2x-1），需要尝试的次数会变成x+1, 不符合我们的假设。</p>
<p>这样依次类推，第三次向上的增量就只能为 K-3, 第四次向上的增量就只能为 K-4。最后一次向上的增量为1。</p>
<p>此时，我们可以得出<strong>结论</strong>：<br>如果只能尝试K次，我们能检测的最高楼层为 K+(K−1)+(K−2)+(K−3)….+2+1=(K*(K+1))/2。</p>
<p>令(K*(K+1))/2 &gt;= 36, 求解得 K &gt;= 8。因此，对于给定2个鸡蛋和36层楼层的情况下，尝试的最少次数为8次。K=8时的尝试流程如下图所示。<br><img src="http://oda53d5ps.bkt.clouddn.com/%E6%8D%95%E8%8E%B7.PNG" alt="操作情况"></p>
<p>Refer <a href="http://www.cs.umd.edu/~gasarch/BLOGPAPERS/eggold.pdf" target="_blank" rel="external">UMD-CS-Egg-Drop</a> for more information. The spare address is <a href="http://oda53d5ps.bkt.clouddn.com/Egg-Drop.pdf" target="_blank" rel="external">here</a>.</p>
<h2 id="Solution-2-Dynamic-Programming-DP-动态规划法"><a href="#Solution-2-Dynamic-Programming-DP-动态规划法" class="headerlink" title="Solution 2 Dynamic Programming (DP-动态规划法)"></a>Solution 2 Dynamic Programming (DP-动态规划法)</h2><p>对于给定的2枚鸡蛋，第一枚鸡蛋从哪一层楼开始扔就显得至关重要了。如果第一枚鸡蛋碎了，那就回到只有一枚鸡蛋的问题了。</p>
<p>该问题可以采用<a href="https://en.wikipedia.org/wiki/Dynamic_programming" target="_blank" rel="external">动态规划</a>策略求解。</p>
<blockquote>
<p>Dynamic programming (also known as dynamic optimization) is a method for solving a complex problem by breaking it down into a collection of simpler subproblems, solving each of those subproblems just once, and storing their solutions – ideally, using a memory-based data structure. The next time the same subproblem occurs, instead of recomputing its solution, one simply looks up the previously computed solution, thereby saving computation time at the expense of a (hopefully) modest expenditure in storage space. (Each of the subproblem solutions is indexed in some way, typically based on the values of its input parameters, so as to facilitate its lookup.) The technique of storing solutions to subproblems instead of recomputing them is called “memoization”.</p>
<p>Dynamic programming algorithms are often used for optimization. A dynamic programming algorithm will examine the previously solved subproblems and will combine their solutions to give the best solution for the given problem. </p>
</blockquote>
<p>采用动态规划法求解问题必须满足如下的条件：分割成的子问题是最优解的时候，原问题也是最优解。</p>
<p>显然该问题满足这一点，可以采用动态规划策略求解。假定楼层数为N，鸡蛋数为M，第一次扔鸡蛋的层数为K，所需的扔鸡蛋最小次数为<code>EggDrop(N,M)</code>。当第一次扔鸡蛋选在第K层时，</p>
<ul>
<li>若鸡蛋摔破，则问题转化为用剩下的(M-1)枚鸡蛋测试剩下的(K-1)层楼，即<code>EggDrop(k-1,M-1)</code></li>
<li>若鸡蛋没有摔破，则问题转化为用M枚鸡蛋测试剩下的(N-K)层楼，即<code>EggDrop(N-K,M)</code></li>
</ul>
<p>因此，有如下表达式：<br> <code>EggDrop(N, M) = 1 + min{max{EggDrop(K-1, M-1), EggDrop(N-K,M)}}</code>, <code>EggDrop(1, M)=1</code> </p>
<p>对应的C++代码为<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;climits&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">EggDrop</span><span class="params">(<span class="keyword">int</span> N, <span class="keyword">int</span> M)</span> </span>&#123;</div><div class="line">	<span class="comment">//楼层数为0或1</span></div><div class="line">	<span class="keyword">if</span> (N == <span class="number">1</span> || N == <span class="number">0</span>) &#123;</div><div class="line">		<span class="keyword">return</span> N;</div><div class="line">	&#125;</div><div class="line">	<span class="comment">//鸡蛋数为1,最差情况下测试次数为N</span></div><div class="line">	<span class="keyword">if</span> (M == <span class="number">1</span>) &#123;</div><div class="line">		<span class="keyword">return</span> N;  </div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">//其余情况</span></div><div class="line">	<span class="keyword">int</span> subPro, K; <span class="comment">//K为第一枚鸡蛋落下的楼层数，subPro为转换为的子情况计数</span></div><div class="line">	<span class="keyword">int</span> min = INT_MAX;   <span class="comment">//最小值</span></div><div class="line">	<span class="keyword">for</span> (K = <span class="number">1</span>; K &lt;= N; K++) &#123;</div><div class="line">		subPro = max(EggDrop(K - <span class="number">1</span>, M - <span class="number">1</span>), EggDrop(N - K, M));</div><div class="line">		<span class="keyword">if</span> (subPro &lt; min) &#123;</div><div class="line">			min = subPro;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="keyword">return</span> (min + <span class="number">1</span>);</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">	<span class="keyword">int</span> M = <span class="number">2</span>, N = <span class="number">10</span>;  <span class="comment">//鸡蛋数M  楼层数N</span></div><div class="line">	<span class="built_in">cout</span> &lt;&lt;<span class="string">"Minimum number of trials in worst case with "</span>&lt;&lt;M&lt;&lt;<span class="string">" eggs and "</span>&lt;&lt;N&lt;&lt;<span class="string">" floors is "</span>&lt;&lt;EggDrop(N,M)&lt;&lt; <span class="built_in">endl</span>;</div><div class="line">	system(<span class="string">"pause"</span>);</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>该代码复杂度为O(2^N),对于N=36情况，本地电脑很难计算出结果。重叠的子问题见下图所示。<br><img src="http://oda53d5ps.bkt.clouddn.com/%E7%BB%98%E5%9B%BE1.png" alt=""></p>
<p>下面考虑用动态规划（DP）方法优化。在DP中，保存子问题的结果，避免重复计算。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;climits&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">EggDrop</span><span class="params">(<span class="keyword">int</span> M, <span class="keyword">int</span> N)</span> </span>&#123;</div><div class="line"></div><div class="line">	<span class="comment">/* eggFloor[i][j] 表示对于 i个鸡蛋j层楼，需要的最少测试次数 */</span></div><div class="line">	<span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; eggFloor(M + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(N + <span class="number">1</span>));</div><div class="line">	</div><div class="line"></div><div class="line">	<span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>;</div><div class="line">	<span class="keyword">int</span> tmp = <span class="number">0</span>;</div><div class="line">	<span class="keyword">int</span> K = <span class="number">0</span>, subPro = <span class="number">0</span>;  <span class="comment">//K为第一枚鸡蛋落下的楼层数，subPro为转换为的子情况计数</span></div><div class="line">	<span class="keyword">for</span> (tmp = <span class="number">0</span>; tmp &lt;= M; tmp++) &#123;</div><div class="line">		eggFloor[tmp][<span class="number">0</span>] = <span class="number">0</span>;  <span class="comment">//楼层数为0时</span></div><div class="line">		eggFloor[tmp][<span class="number">1</span>] = <span class="number">1</span>;  <span class="comment">//楼层数为1时</span></div><div class="line"></div><div class="line">	&#125;</div><div class="line">	eggFloor[<span class="number">0</span>][<span class="number">1</span>] = <span class="number">0</span>;  <span class="comment">//楼层数为1时,鸡蛋数为0时</span></div><div class="line"></div><div class="line">	<span class="comment">//鸡蛋数为1时和0时</span></div><div class="line">	<span class="keyword">for</span> (tmp = <span class="number">0</span>; tmp &lt;= N; tmp++) &#123;</div><div class="line">		eggFloor[<span class="number">1</span>][tmp] = tmp;  </div><div class="line">		eggFloor[<span class="number">0</span>][tmp] = <span class="number">0</span>;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line"></div><div class="line">	<span class="comment">//其余情况 最优子结构 递推求解</span></div><div class="line">	<span class="keyword">for</span> (i = <span class="number">2</span>; i &lt;= M; i++) &#123;  <span class="comment">//鸡蛋数外循环</span></div><div class="line">		<span class="keyword">for</span> (j = <span class="number">2</span>; j &lt;= N; j++) &#123;<span class="comment">//楼层数内循环 </span></div><div class="line">			eggFloor[i][j] = INT_MAX;</div><div class="line"></div><div class="line">			<span class="keyword">for</span> (K = <span class="number">1</span>; K &lt;= j; K++) &#123;</div><div class="line">				subPro = <span class="number">1</span> + max(eggFloor[i - <span class="number">1</span>][K - <span class="number">1</span>], eggFloor[i][j - K]);</div><div class="line">				<span class="keyword">if</span> (subPro &lt; eggFloor[i][j]) &#123;</div><div class="line">					eggFloor[i][j] = subPro;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line"></div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> eggFloor[M][N];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">	<span class="keyword">int</span> M = <span class="number">2</span>, N = <span class="number">36</span>;  <span class="comment">//鸡蛋数M  楼层数N</span></div><div class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">"Minimum number of trials in worst case with "</span> &lt;&lt; M &lt;&lt; <span class="string">" eggs and "</span> &lt;&lt; N &lt;&lt; <span class="string">" floors is "</span> &lt;&lt; EggDrop(M, N) &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">	system(<span class="string">"pause"</span>);</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p>[1] <a href="http://www.acmerblog.com/egg-dropping-puzzle-5591.html" target="_blank" rel="external">Egg Dropping Puzzle</a><br>[2] <a href="http://blog.csdn.net/liuxingwan/article/details/50571488" target="_blank" rel="external">The Egg-Drop Problem</a><br>[3] <a href="http://blog.csdn.net/jiyanfeng1/article/details/47193063" target="_blank" rel="external">Egg Drop</a><br>[4] <a href="http://blog.csdn.net/lengxiao1993/article/details/52551492" target="_blank" rel="external">清晰解读：扔鸡蛋问题</a><br>[5] <a href="http://raychase.iteye.com/blog/1871907" target="_blank" rel="external">再谈大楼扔鸡蛋问题</a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/算法/" rel="tag"># 算法</a>
          
            <a href="/tags/动态规划/" rel="tag"># 动态规划</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/12/02/前端数据可视化开源库介绍/" rel="next" title="前端数据可视化开源库介绍">
                <i class="fa fa-chevron-left"></i> 前端数据可视化开源库介绍
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/12/15/JavaScript中的LHS和RHS/" rel="prev" title="JavaScript中的LHS和RHS">
                JavaScript中的LHS和RHS <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

          
          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/homepage/yymhk.png"
               alt="Yin Zhehao" />
          <p class="site-author-name" itemprop="name">Yin Zhehao</p>
          <p class="site-description motion-element" itemprop="description">饮水思源 止于至善</p>
        </div>
        <nav class="site-state motion-element">
        
          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">30</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">41</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Topic"><span class="nav-number">1.</span> <span class="nav-text">Topic</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Analysis"><span class="nav-number">2.</span> <span class="nav-text">Analysis</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Solution-1-数学猜想反推法"><span class="nav-number">3.</span> <span class="nav-text">Solution 1 数学猜想反推法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Solution-2-Dynamic-Programming-DP-动态规划法"><span class="nav-number">4.</span> <span class="nav-text">Solution 2 Dynamic Programming (DP-动态规划法)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#参考资料"><span class="nav-number">5.</span> <span class="nav-text">参考资料</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yin Zhehao</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
    <span class="site-pv"><i class="fa fa-eye"></i><span class="busuanzi-value" id="busuanzi_value_site_pv"></span></span>
  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  

  
      <!-- UY BEGIN -->
      <script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid="></script>
      <!-- UY END -->
  




  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  

  


</body>
</html>
